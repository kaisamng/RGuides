# (PART\*) Miscellaneous {.unnumbered}
# Downloading Data from the Census Bureau 

The Census Bureau is one of the richest sources of data that you will find-- and it's all free, and cleaned up for you! 

There are a couple of steps you'll need to do first, however. 

## Register for a Census Bureau Key

::: {style="display: grid; grid-template-columns: 1fr 1fr; grid-column-gap: 10px;"}
<div>

1. Go to [Key Signup](https://api.census.gov/data/key_signup.html) and signup for a key. **DO NOT Use your FCPS email, otherwise, the email will be blocked :(**

2. Wait a minute, and check your email. **Click on the link to activate your key, otherwise the next steps won't work!**
</div>

<div>

```{r, echo=FALSE}
knitr::include_graphics("resources/images/A-Downloading-from-Census/census_key.png")
```
</div>
:::

## Install the `tidycensus` package

The package that easily downloads Census Bureau data is called `tidycensus`. Install the package and load it.

```{r eval=FALSE,echo=TRUE, message=FALSE, warning=FALSE, results='hide'}
install.packages("tidycensus")
library("tidycensus")
```

Then, install your Census API Key into R with this command.

```{r eval=FALSE}
census_api_key("<Census Key Goes Here>", install=TRUE, overwrite=TRUE)
```

Restart your R Session by clicking on Menu's Session >> Restart R Session. Then, reload the tidycensus library by running `library("tidycensus")`.

## Pull data from the Census

Pull variable data into dataframe. 

* Notice the "geography" is "zcta," which is the Census Bureau's equivalent of a ZIP Code. 

* state="VA" variable helps limit the scope of our data to just VA, otherwise it will download all US.

```{r, eval=FALSE, results='hide'}
income_with_children <- get_acs(geography="zcta",
                  state="VA",
                  variables=c("B19125_002"),
                  year=2019)

head(income_with_children)

income_no_children<- get_acs(geography="zcta",
                            state="VA",
                            variables=c("B19125_003"),
                            year=2019)
head(income_no_children)
```

```{r, echo=FALSE, fig.cap="Zip Code Data for Household Income for Households with Children, and Without Children"}
load("~/Github/RGuides/resources/data/Census_Data.RData")
knitr::kable(list(income_with_children, income_no_children), caption="Zip Code Data for Household Income for Households with Children, and Without Children", booktabs=TRUE) %>%
  scroll_box(height="500px") %>%
  kable_styling(position= "center", font_size = 10)
```